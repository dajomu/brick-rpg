(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(23)},16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),a=n(8),c=n.n(a),s=(n(16),n(2)),r=n(3),l=n(5),u=n(4),d=n(6),h=n(0),m=(n(18),function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e)),console.log(e),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeInterfaceState,n=e.interfaceState;return i.a.createElement("div",{className:"Menu"},i.a.createElement("button",{className:"menu-button ".concat("ADD_COLUMN"==n?"selected":""),onClick:function(){t("ADD_COLUMN"==n?"VIEW":"ADD_COLUMN")}},"Add Column"))}}]),t}(o.Component)),f=1,v=1.6,w=13,b=9,C=2236962,k=16720418,p=function(){var e=new h.a(v,f,v),t=new h.c(e),n=new h.e({color:k,linewidth:100});return new h.f(t,n)},g=function(){function e(t,n,o,i){var a=this;Object(s.a)(this,e),this.ghostBrick=p(),this.hoverableObjects=[],this.scene=void 0,this.squares=new h.d,this.basePlateLength=void 0,this.basePlateWidth=void 0,this.placeColumn=void 0,this.initSquares=function(e,t){for(var n=1;n<=e;n++)for(var o=1;o<=t;o++)a.createSquare(n,o)},this.createSquare=function(e,t){var n=new h.d,o=new h.a(v,.1,v),i=new h.h({color:15658734}),c=new h.g(o,i);c.onHover=function(n){"ADD_COLUMN"==n&&a.placeGhostBrick(e,t)},c.onClick=function(n){a.hideGhostBrick(),"ADD_COLUMN"==n&&a.placeColumn(e,t)};var s=new h.c(o),r=new h.e({color:C,linewidth:100}),l=new h.f(s,r);n.add(c),n.add(l),a.hoverableObjects.push(c),n.position.add(new h.m(e*v,0,t*v)),n.name="brick-".concat(e,"-").concat(t),a.squares.add(n)},this.scene=t,this.basePlateLength=n,this.basePlateWidth=o,this.placeColumn=i,this.initSquares(n,o),this.squares.position.add(new h.m(-n*v/2,0,-o*v/2)),this.initGhostBrick(),t.add(this.squares)}return Object(r.a)(e,[{key:"initGhostBrick",value:function(){this.ghostBrick.position.set(0,.6,0),this.ghostBrick.visible=!1,this.scene.add(this.ghostBrick)}},{key:"placeGhostBrick",value:function(e,t){this.ghostBrick.position.set((e-this.basePlateLength/2)*v,f/2,(t-this.basePlateWidth/2)*v),this.ghostBrick.visible=!0}},{key:"hideGhostBrick",value:function(){this.ghostBrick.visible=!1}},{key:"getHoverableObjects",value:function(){return this.hoverableObjects}}]),e}(),O=function(){function e(t,n,o){var i=this;Object(s.a)(this,e),this.scene=void 0,this.columns=new h.d,this.basePlateLength=void 0,this.basePlateWidth=void 0,this.resizeColumn=void 0,this.addColumn=function(e,t){var n=new h.d,o=new h.a(v,f,v),a=new h.h({color:16777215}),c=new h.g(o,a),s=new h.c(o),r=new h.e({color:k,linewidth:100}),l=new h.f(s,r);n.add(c),n.add(l),n.position.add(new h.m(e*v,.56,t*v)),n.name="column-".concat(e,"-").concat(t),i.columns.add(n),i.resizeColumn=n},this.resizeSelectedColumn=function(e){i.resizeColumn&&e>0&&(i.resizeColumn.children.forEach(function(t){t.scale.setY(e)}),i.resizeColumn.position.setY(e/2))},this.scene=t,this.basePlateLength=n,this.basePlateWidth=o,this.columns.position.add(new h.m(-n*v/2,0,-o*v/2)),t.add(this.columns)}return Object(r.a)(e,[{key:"deselectColumn",value:function(){this.resizeColumn&&(this.resizeColumn.children[1].material.color.set(C),this.resizeColumn=void 0)}}]),e}(),S=(n(20),n(9)),j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).mount=void 0,n.scene=void 0,n.camera=void 0,n.renderer=void 0,n.frameId=void 0,n.basePlate=void 0,n.columns=void 0,n.controls=void 0,n.raycaster=new h.j,n.mouse=new h.l,n.clickedMouse=void 0,n.componentDidMount=function(){if(n.mount){var e=n.mount.clientWidth,t=n.mount.clientHeight;n.camera=new h.i(75,e/t,.1,1e3),n.camera.position.z=w/2,n.camera.position.y=5,n.renderer.setClearColor("#000000"),n.renderer.setSize(e,t),n.mount.appendChild(n.renderer.domElement),n.controls=new S.OrbitControls(n.camera,n.renderer.domElement),n.controls.minPolarAngle=0,n.controls.maxPolarAngle=Math.PI/2-.02,n.controls.minDistance=0,n.controls.maxDistance=1/0,n.controls.enableZoom=!0,n.controls.zoomSpeed=1,window.addEventListener("mousemove",n.onMouseMove,!1),n.start()}},n.onMouseMove=function(e){n.mouse.x=e.clientX/window.innerWidth*2-1,n.mouse.y=-e.clientY/window.innerHeight*2+1},n.start=function(){n.frameId||(n.frameId=requestAnimationFrame(n.animate))},n.stop=function(){n.frameId&&cancelAnimationFrame(n.frameId)},n.animate=function(){n.checkRayCollisions(),n.renderScene(),n.frameId=window.requestAnimationFrame(n.animate)},n.checkRayCollisions=function(){var e=n.state.interfaceState;if("ADD_COLUMN"==e){n.raycaster.setFromCamera(n.mouse,n.camera);var t=n.raycaster.intersectObjects(n.basePlate.getHoverableObjects());t.length&&t[0].object.onHover(n.state.interfaceState)}else if("RESIZE_COLUMN"==e&&n.clickedMouse&&n.controls){var o=n.controls.target.distanceTo(n.controls.object.position);n.columns.resizeSelectedColumn(Math.round((n.mouse.y-n.clickedMouse.y)*o/2))}},n.clickOnScene=function(){var e=n.state.interfaceState;if("ADD_COLUMN"==e){n.clickedMouse=n.mouse.clone(),n.raycaster.setFromCamera(n.mouse,n.camera);var t=n.raycaster.intersectObjects(n.basePlate.getHoverableObjects());t.length&&t[0].object.onClick(n.state.interfaceState)}else"RESIZE_COLUMN"==e&&(n.clickedMouse=void 0,n.setState({interfaceState:"VIEW"}),n.columns.deselectColumn())},n.placeColumn=function(e,t){"ADD_COLUMN"==n.state.interfaceState&&(n.changeInterfaceState("RESIZE_COLUMN"),n.columns.addColumn(e,t))},n.renderScene=function(){n.renderer.render(n.scene,n.camera)},n.changeInterfaceState=function(e){n.setState({interfaceState:e})},n.state={interfaceState:"VIEW"},n.mount=null,n.scene=new h.k,n.scene.background=new h.b(16777215),n.camera=new h.i(70,1,.1,1e3),n.renderer=new h.n({antialias:!0}),n.controls=null,n.basePlate=new g(n.scene,w,b,n.placeColumn),n.columns=new O(n.scene,w,b),n.frameId=null,n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.stop(),this.mount&&this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App ".concat(this.state.interfaceState)},i.a.createElement("div",{style:{width:"100%",height:"100%"},ref:function(t){e.mount=t},onClick:this.clickOnScene}),i.a.createElement(m,{interfaceState:this.state.interfaceState,changeInterfaceState:this.changeInterfaceState}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.20c38488.chunk.js.map